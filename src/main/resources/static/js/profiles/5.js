(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"36kZ":function(t,i,e){"use strict";e.r(i),e.d(i,"AccessModule",(function(){return K}));var n=e("2kYt"),a=e("40Bj"),o=e("nIj0"),s=e("m1yc"),r=e("PCNd"),c=e("sEIs"),l=e("EM62"),d=e("OZ4H"),b=e("YtkY"),m=e("J0Eg"),u=e("W1gw");let h=(()=>{class t extends m.a{constructor(t,i){super(),this.pt=t,this._snackBar=i}loadData(t){return this.pt.getFilterAll({matriz:null==t?void 0:t.matriz,noRevision:null==t?void 0:t.noRevision,satatus:null==t?void 0:t.status,nivel:null==t?void 0:t.nivel,creationDate:null==t?void 0:t.creationDate,lastUpdateDate:null==t?void 0:t.lastUpdateDate,del:"N"}).pipe(Object(b.a)(t=>t.map(t=>({nombre:t.nombre,noRevision:t.noRevision,status:t.status.satus,id:t.idMatriz,nivel:t.ns.serviceLevel,creationDate:t.creationDate,lastUpdateDate:t.lastUpdateDate,all:t}),console.log("Data Table",t.all),this.dataSource.replaceAll(t))))}push(t){this.dataSource.push(t)}showSanckBar(t,i,e){this._snackBar.open(t,"OK",{duration:3e3,horizontalPosition:i||"center",verticalPosition:e||"bottom"})}}return t.\u0275fac=function(i){return new(i||t)(l.Wb(s.f),l.Wb(u.a))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function g(t,i){if(1&t&&(l.Qb(0),l.Dc(1),l.Pb()),2&t){const t=l.ec().$implicit;l.Bb(1),l.Fc(" ",t," ")}}function f(t,i){if(1&t&&(l.Sb(0,"li"),l.Bc(1,g,2,1,"ng-container",2),l.Rb()),2&t){const t=i.$implicit;l.Bb(1),l.jc("ngIf",t)}}let p=(()=>{class t{constructor(t,i){this.data=t,this.dialogRef=i,this.showSubmit=!1}ngOnInit(){this.massiveLoadErrors=this.data.massiveLoadErrors}onClose(){this.dialogRef.close()}}return t.\u0275fac=function(i){return new(i||t)(l.Mb(d.a),l.Mb(d.f))},t.\u0275cmp=l.Gb({type:t,selectors:[["infL-error-dialog"]],decls:4,vars:2,consts:[["title","Resultados de la carga masiva",3,"showSubmit","closeEvent"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,i){1&t&&(l.Sb(0,"shared-form-dialog",0),l.ac("closeEvent",(function(){return i.onClose()})),l.Sb(1,"div"),l.Sb(2,"ul"),l.Bc(3,f,2,1,"li",1),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.jc("showSubmit",i.showSubmit),l.Bb(3),l.jc("ngForOf",i.massiveLoadErrors))},directives:[s.b,n.k,n.l],styles:["ul[_ngcontent-%COMP%]{list-style:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#000;font-weight:700}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(-n+3){border-left:1px solid #000;border-right:1px solid #000;padding:4px 24px;color:#5a5}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top:1px solid #000}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){border-bottom:1px solid #000}"]}),t})();var v=e("qFEQ"),F=e("29Wa"),y=e("R7+U"),w=e("PBFl"),S=e("mFH5"),R=e("csyo");function x(t,i){if(1&t&&(l.Sb(0,"mat-option",12),l.Dc(1),l.Rb()),2&t){const t=i.$implicit;l.jc("value",t.id),l.Bb(1),l.Fc(" ",t.name," ")}}function B(t,i){if(1&t&&(l.Sb(0,"mat-option",12),l.Dc(1),l.Rb()),2&t){const t=i.$implicit;l.jc("value",t.idEvaluacion),l.Bb(1),l.Fc(" ",t.name," ")}}function C(t,i){if(1&t&&(l.Sb(0,"mat-option",12),l.Dc(1),l.Rb()),2&t){const t=i.$implicit;l.jc("value",t.spCode),l.Bb(1),l.Fc(" ",t.spCode+" "+t.providerName," ")}}function L(t,i){if(1&t&&(l.Sb(0,"mat-option",12),l.Dc(1),l.Rb()),2&t){const t=i.$implicit;l.jc("value",t.spCode),l.Bb(1),l.Fc(" ",t.spCode+" "+t.providerName," ")}}function D(t,i){1&t&&l.Nb(0,"mat-spinner",13),2&t&&l.jc("diameter",40)}let j=(()=>{class t{constructor(t,i,e,n,a,o){this.fb=t,this.fs=i,this.as=e,this.mts=n,this.dialog=a,this.router=o,this.ummins=window.cummins,this.disabledEvent=new l.o,this.specification=[],this.distList=[],this.spList=[],this.regionList=[],this.evaluationList=[],this.loading=!1,this.massLoadFile=[],this.massiveLoadErrors=[],this.eraseData=!1,this.massive=!1,this.action=1}ngOnInit(){this.loading=!0,this.message=this.dictionary.translate("msgCreateTool"),this.as.getRegions().subscribe(t=>{this.regionList=[...t],this.loading=!1}),this.setupForm()}get region(){return this.mainForm.get("region")}get evalation(){return this.mainForm.get("evaluation")}get dist(){return this.mainForm.get("dist")}get sp(){return this.mainForm.get("sp")}setupForm(){this.mainForm=this.fb.group({region:[null,[o.q.required]],evaluation:[null,[o.q.required]],dist:[null,[o.q.required]],sp:[null,[o.q.required]]})}getEvaluations(t){this.loading=!0,this.as.getEvaluations(t).subscribe(t=>{this.evaluationList=[...t],this.loading=!1}),this.sp.reset()}getDist(t){this.loading=!0,this.as.getDist(t).subscribe(t=>{this.distList=[...t],this.loading=!1}),this.sp.reset()}getSP(t){this.loading=!0,this.as.getSP(t).subscribe(t=>{this.spList=[...t],this.loading=!1})}disableFields(){this.fs.disableFields(this.mainForm)}enableFields(){this.fs.enableFields(this.mainForm)}getForm(){return this.orderForm.get("items")}openResults(){this.dialog.open(p,{disableClose:!1,height:"400px",width:"600px",data:{massiveLoadErrors:this.massiveLoadErrors}})}access(){const t=this.mainForm.value;this.mainForm.disable(),this.as.access({region:t.region,evaluacion:t.evaluation,distribuidor:t.dist,puntoServicio:t.sp}).subscribe(t=>{this.mainForm.enable();const i=window.location.href.replace("acceso/Acceso","Scd");window.location.assign(i)},t=>{this.mainForm.enable(),this.mts.showSanckBar(this.dictionary.translate("conectionError"))})}submit(){return 0}debug(){console.log("Dist Form ",this.action)}}return t.\u0275fac=function(i){return new(i||t)(l.Mb(o.d),l.Mb(s.c),l.Mb(s.a),l.Mb(h),l.Mb(d.b),l.Mb(c.a))},t.\u0275cmp=l.Gb({type:t,selectors:[["pat-main-form"]],inputs:{data:"data",dictionary:"dictionary"},decls:35,vars:16,consts:[["autocomplete","off","fxLayout","column","fxFlex","","fxLayoutAlign","center center",1,"form-parts-matrix",2,"display","flex","justify-content","center","align-items","center","margin-top","10rem",3,"formGroup"],["fxFlex","","fxLayout","column","fxLayoutAlign","space-between center",2,"width","90% !important"],["fxFlex","100",2,"width","50%"],["formControlName","region","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","evaluation","required",""],["formControlName","dist","required","",3,"selectionChange"],["formControlName","sp","required",""],["fxLayout","column","fxFlex","","fxLayoutAlign","center center",2,"width","100%"],["strokeWidth","4",3,"diameter",4,"ngIf"],["fxFlex","100","fxLayout","row","fxLayout.xs","column","fxLayoutAlign","space-around center",2,"margin-top","2rem","width","10% !important"],["color","primary","mat-raised-button","",2,"width","100%",3,"disabled","click"],[3,"value"],["strokeWidth","4",3,"diameter"]],template:function(t,i){1&t&&(l.Sb(0,"form",0),l.Sb(1,"div",1),l.Sb(2,"mat-form-field",2),l.Sb(3,"mat-label"),l.Dc(4),l.Rb(),l.Sb(5,"mat-select",3),l.ac("selectionChange",(function(t){return i.getEvaluations(t.value),i.getDist(t.value)})),l.Bc(6,x,2,2,"mat-option",4),l.Rb(),l.Sb(7,"mat-error"),l.Dc(8),l.Rb(),l.Rb(),l.Sb(9,"mat-form-field",2),l.Sb(10,"mat-label"),l.Dc(11),l.Rb(),l.Sb(12,"mat-select",5),l.Bc(13,B,2,2,"mat-option",4),l.Rb(),l.Sb(14,"mat-error"),l.Dc(15),l.Rb(),l.Rb(),l.Sb(16,"mat-form-field",2),l.Sb(17,"mat-label"),l.Dc(18),l.Rb(),l.Sb(19,"mat-select",6),l.ac("selectionChange",(function(t){return i.getSP(t.value)})),l.Bc(20,C,2,2,"mat-option",4),l.Rb(),l.Sb(21,"mat-error"),l.Dc(22),l.Rb(),l.Rb(),l.Sb(23,"mat-form-field",2),l.Sb(24,"mat-label"),l.Dc(25),l.Rb(),l.Sb(26,"mat-select",7),l.Bc(27,L,2,2,"mat-option",4),l.Rb(),l.Sb(28,"mat-error"),l.Dc(29),l.Rb(),l.Rb(),l.Rb(),l.Sb(30,"div",8),l.Bc(31,D,1,1,"mat-spinner",9),l.Rb(),l.Sb(32,"div",10),l.Sb(33,"button",11),l.ac("click",(function(){return i.access()})),l.Dc(34),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.jc("formGroup",i.mainForm),l.Bb(4),l.Ec(i.dictionary.translate("region")),l.Bb(2),l.jc("ngForOf",i.regionList),l.Bb(2),l.Fc(" ",i.dictionary.translate("mandatoryField")," "),l.Bb(3),l.Ec(i.dictionary.translate("evaluation")),l.Bb(2),l.jc("ngForOf",i.evaluationList),l.Bb(2),l.Fc(" ",i.dictionary.translate("mandatoryField")," "),l.Bb(3),l.Ec(i.dictionary.translate("distributor")),l.Bb(2),l.jc("ngForOf",i.distList),l.Bb(2),l.Fc(" ",i.dictionary.translate("mandatoryField")," "),l.Bb(3),l.Ec(i.dictionary.translate("servicePoint")),l.Bb(2),l.jc("ngForOf",i.spList),l.Bb(2),l.Fc(" ",i.dictionary.translate("mandatoryField")," "),l.Bb(2),l.jc("ngIf",i.loading),l.Bb(2),l.jc("disabled",i.mainForm.invalid),l.Bb(1),l.Fc(" ",i.dictionary.translate("entry")," "))},directives:[o.r,o.l,v.c,v.a,v.b,o.f,F.c,F.f,y.a,o.k,o.e,o.p,n.k,F.b,n.l,w.b,S.n,R.c],styles:[".mat-dialog-content[_ngcontent-%COMP%]{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;width:450px}.form-parts-matrix[_ngcontent-%COMP%]{width:100%}.cdk-overlay-pane[_ngcontent-%COMP%]{width:800px!important}"]}),t})();function M(t,i){if(1&t&&(l.Sb(0,"div",1),l.Nb(1,"pat-main-form",2),l.Rb()),2&t){const t=l.ec();l.Bb(1),l.jc("dictionary",t.dictionary)}}const O=[{component:(()=>{class t{constructor(t,i,e,n){this.dialog=t,this.message=i,this.mts=e,this.tls=n,this.dictionary=new s.d,this.loading=!1,this.flag=!1}ngOnInit(){this.tls.getLenguaje().subscribe(t=>{this.dictionary.setLanguage(t.language),this.flag=!0}),this.title=this.dictionary.translate("loadProfiles")}}return t.\u0275fac=function(i){return new(i||t)(l.Mb(d.b),l.Mb(s.e),l.Mb(h),l.Mb(s.i))},t.\u0275cmp=l.Gb({type:t,selectors:[["pat-main-view"]],decls:1,vars:1,consts:[["style","height: 80vh; width: 100%;",4,"ngIf"],[2,"height","80vh","width","100%"],[3,"data","dictionary"]],template:function(t,i){1&t&&l.Bc(0,M,2,1,"div",0),2&t&&l.jc("ngIf",i.flag)},directives:[n.l,j],styles:[""]}),t})(),path:""}];let P=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(i){return new(i||t)},imports:[[c.b.forChild(O)],c.b]}),t})();var E=e("gcUQ"),k=e("Cd2c"),I=e("KZIX"),q=e("FlRo"),_=e("cePI"),N=e("iAde"),A=e("k8N0"),J=e("bFHC"),U=e("Jb3d"),W=e("Y2X+");e("5XID"),e("5lCh"),e("sg/T"),e("cqs0");let $=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(i){return new(i||t)},imports:[[S.s,S.j],S.j]}),t})();var G=e("66mq");let K=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(i){return new(i||t)},imports:[[n.c,P,a.a,o.g,E.c,F.e,k.c,S.m,y.b,I.a,q.m,o.o,_.c,N.b,A.a,s.h,r.a,w.c,d.e,J.b,U.b,W.b,G.b,R.b,u.b,R.b,$]]}),t})()}}]);